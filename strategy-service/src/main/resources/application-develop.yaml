hft:
  mode: PAPER
  events:
    enabled: true
    market-ws-snapshot-publish-millis: 1000
    market-ws-cache-publish-on-start: true
  executor:
    base-url: http://localhost:8080
    send-live-ack: false
  polymarket:
    market-ws-enabled: true
    gamma-url: https://gamma-api.polymarket.com
    market-ws-cache-path: .cache/ws/market-ws-cache.strategy.json
    market-ws-cache-flush-millis: 5000
  strategy:
    btcarb:
      enabled: false           # EXPLICITLY DISABLED
    gabagool:
      enabled: true            # ENABLED for full 15m run
      refresh-millis: 500
      min-replace-millis: 500
      min-seconds-to-end: 0
      max-seconds-to-end: 3600
      improve-ticks: 0

      # Dynamic sizing: FIXED mode for sim
      quote-size: 5            # Smaller quote size for $20 budget
      quote-size-bankroll-fraction: 0.001
      bankroll-mode: FIXED
      bankroll-usd: 20
      bankroll-refresh-millis: 10000
      bankroll-smoothing-alpha: 0.2
      bankroll-min-threshold: 5
      bankroll-trading-fraction: 1.0              # Use full bankroll
      max-order-bankroll-fraction: 0.5            # Up to $10 per order
      max-total-bankroll-fraction: 0.8           # Reduced to 0.8 for hedging buffer

      # Complete-set arbitrage configuration (Aggressive for activity)
      complete-set-min-edge: 0.001
      complete-set-max-skew-ticks: 0
      complete-set-imbalance-shares-for-max-skew: 5000
      complete-set-top-up-enabled: true
      complete-set-top-up-seconds-to-end: 180         # Start taker top-ups earlier
      complete-set-top-up-min-shares: 5               # Lower threshold
      complete-set-fast-top-up-enabled: true          # CRITICAL for pairing
      complete-set-fast-top-up-min-shares: 2
      complete-set-fast-top-up-min-seconds-after-fill: 2
      complete-set-fast-top-up-max-seconds-after-fill: 600
      complete-set-fast-top-up-cooldown-millis: 2000  # Low cooldown
      complete-set-fast-top-up-min-edge: 0

      # Strict Pairing & Aggressive Hedging
      strict-pairing-enabled: true
      max-imbalance-shares: 5.0                  # Strictly limit unhedged shares
      aggressive-hedge-seconds-to-end: 300       # Hedge aggressively in last 5m
      aggressive-hedge-min-edge: -0.01           # Allow slight negative edge to close position

      # Taker mode
      taker-mode-enabled: true
      taker-mode-max-edge: 0.005
      taker-mode-max-spread: 0.02

logging:
  level:
    com.polybot.hft.polymarket.strategy: DEBUG
